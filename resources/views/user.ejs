<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
     body{
      background-color: #A9C9FF;
background-image: linear-gradient(180deg, #A9C9FF 0%, #FFBBEC 100%);
    }

    .cards{
      padding: 25px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2em;
    }

    .veg-card{
      display: flex;
      flex-direction: column;
      min-width: 0;
      word-wrap: break-word;
      background-clip: border-box;
      align-self: center;
      justify-self: center;
    }
    </style>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body >
<!------------------NAV BAR-->
<nav style="position: fixed; width:100%;z-index: 4; padding-left: 70vw;"class="navbar navbar-expand-lg navbar-light bg-dark" id="<%=JSON.stringify(user)%>">
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav  mb-2 mb-lg-0">
          <li style="width:150px;"class="mt-2 text-white nav-item">
            Welcome-<%=user.name%>
          </li>
          <li class="nav-item">
            <a class="text-white nav-link" href="/user">Home</a>
          </li>
        
          <li class="nav-item">
            <a class="text-white nav-link" href="/user/orders">Orders</a>
          </li>
        </ul>
        <form action="/logout" method="POST">
          <button class="btn btn-outline-success" type="submit">Logout</button>
          </form>
  </div>
 
</nav>
<!---------NAV BAR END-->
  <h1 style="padding-top: 10vh; text-align:center;"> Available Vegetables</h1>
    <!---------------CARD-->
    <div class="cards">
      <%items.forEach(item=>{ %>
        <div class="veg-card shadow-lg p-3 bg-white rounded border border-dark" style="width: 280px;">
          <% if(item.status==='Available') { %>
            <h4 style="background-color: green;"class=" text-white text-center"><%=item.status%>  </h4>
            <img height="200px" width="250px" class="rounded border border-dark" src="data:image/<%=item.img.contentType%>;base64,
            <%=item.img.data.toString('base64')%>" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title"><%=item.name%></h5>
              <h6>Description-</h5>
              <p class="mx-auto card-text"><%=item.desc%></p>
            </div>
            <ul class="list-group list-group-flush">
              <li class="mx-auto list-group-item">Name-<%=item.FarmerId.name%></li>
              <li class="mx-auto list-group-item">Adderess-<%=item.FarmerId.address%></li>
              <li class="mx-auto list-group-item">Phone-<%=item.FarmerId.phone%></li>
              <li class="mx-auto list-group-item">Price per kg-<%=item.price%></li>
            </ul>
            <div class="card-body mx-auto">
              <form action="/view/<%= item._id %>" method="POST">
              <button  type="submit" mx-auto" style="background-color: darkgray;">View This</button>
              </form>
            </div>
          <%}else {%>
            <h4 style="background-color: gray;" class="text-white text-center"><%=item.status%>  </h4>
            <img class="rounded border border-dark" src="data:image/<%=item.img.contentType%>;base64,
            <%=item.img.data.toString('base64')%>" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title"><%=item.name%></h5>
              <h6>Description-</h5>
              <p class="mx-auto card-text"><%=item.desc%></p>
            </div>
            <ul class="list-group list-group-flush">
              <li class="mx-auto list-group-item">Name-<%=item.FarmerId.name%></li>
              <li class="mx-auto list-group-item">Adderess-<%=item.FarmerId.address%></li>
              <li class="mx-auto list-group-item">Phone-<%=item.FarmerId.phone%></li>
              <li class="mx-auto list-group-item">Price per kg-<%=item.price%></li>
            </ul>
            <div class="card-body mx-auto">
              <form action="/view/<%= item._id %>" method="POST">
              <button  type="submit" disabled="true" mx-auto" style="background-color: darkgray;">View This</button>
              </form>
            </div>
          <%}%>  
        </div>
      <%})%>
    </div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
   <script stc="/js/app.js"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    -->
  </body>
</html>